---
title: test
description: Run tests for your project.
---

# canaveral test

Run tests for your project. Supports multiple frameworks, test reporters, coverage collection, smart test selection, and monorepo-aware affected package detection.

## Synopsis

```bash
canaveral test [PATH] [OPTIONS]
```

## Options

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `[PATH]` | | Path to the project | `.` (current directory) |
| `--platform <PLATFORM>` | `-p` | Target platform: `ios`, `android`, `macos`, `windows`, `linux`, `web` | Auto |
| `--framework <FRAMEWORK>` | `-f` | Override framework detection | Auto-detected |
| `--filter <PATTERN>` | | Test filter/pattern | - |
| `--coverage` | | Collect code coverage | `false` |
| `--reporter <FORMAT>` | | Reporter format: `pretty`, `json`, `junit`, `github-actions` | `pretty` |
| `--output <FILE>` | | Output file for test results (e.g., `junit.xml`) | - |
| `--fail-fast` | | Stop on first failure | `false` |
| `--retry <COUNT>` | | Retry failed tests | `0` |
| `--timeout <SECONDS>` | | Test timeout in seconds | - |
| `--jobs <N>` | `-j` | Number of parallel test jobs | Auto |
| `--dry-run` | | Validate without running tests | `false` |
| `--smart` | | Smart test selection (only tests covering changed code) | `false` |
| `--affected` | | Only test affected packages (monorepo) | `false` |
| `--base <REF>` | | Base ref for affected/smart detection | `main` |

### Global Options

| Option | Description |
|--------|-------------|
| `--format json` | Output test results as JSON |
| `--verbose` | Show detailed test output |
| `--quiet` | Suppress output except errors |

## Examples

### Basic Tests

```bash
# Run tests (auto-detects framework)
canaveral test

# Run tests for a specific path
canaveral test packages/my-lib

# Run tests on a specific platform
canaveral test --platform ios
```

### Filtering

```bash
# Run tests matching a pattern
canaveral test --filter "login"

# Specify framework explicitly
canaveral test --framework flutter
```

### Coverage

```bash
# Generate coverage report
canaveral test --coverage

# Coverage report is included in the output
```

### CI/CD Output

```bash
# JUnit XML output for CI
canaveral test --reporter junit --output test-results/results.xml

# JSON output
canaveral test --format json

# GitHub Actions annotations
canaveral test --reporter github-actions
```

### Smart Test Selection

```bash
# Only run tests covering changed code since main
canaveral test --smart --base main

# Only test affected packages in a monorepo
canaveral test --affected --base main
```

### Reliability Options

```bash
# Stop on first failure
canaveral test --fail-fast

# Retry failed tests up to 3 times
canaveral test --retry 3

# Set test timeout to 120 seconds
canaveral test --timeout 120
```

## Output

### Pretty Format (Default)

```
Running tests...
  Path: /path/to/project

======================================================================
  TEST RESULTS
======================================================================

  ✓ LoginTests (4 tests, 234ms)
      ✓ test_valid_login (45ms)
      ✓ test_invalid_password (12ms)
      ✓ test_empty_email (8ms)
      ✓ test_network_error (169ms)

  ✗ PaymentTests (3 tests, 156ms)
      ✓ test_valid_card (23ms)
      ✗ test_expired_card (89ms)
          Expected: error
          Got: success
      ✓ test_refund (44ms)

======================================================================
  4 passed, 1 failed, 0 skipped (390ms)
======================================================================
```

## See Also

- [build](/canaveral/commands/build/) - Build your app
- [doctor](/canaveral/commands/doctor/) - Check environment
