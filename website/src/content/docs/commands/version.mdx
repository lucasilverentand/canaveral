---
title: version
description: Calculate the next version based on conventional commits.
---

# canaveral version

Calculate the next version based on conventional commits since the last tag. Uses the configured versioning strategy (SemVer, CalVer, or build number).

## Synopsis

```bash
canaveral version [OPTIONS]
```

## Options

| Option | Short | Description | Default |
|--------|-------|-------------|---------|
| `--release-type <TYPE>` | `-r` | Release type: `major`, `minor`, `patch`, `prerelease`, `custom` | Auto (from commits) |
| `--current` | | Show current version only (do not calculate next) | `false` |
| `--package <NAME>` | `-p` | Target a specific package in a monorepo | - |

### Global Options

| Option | Description |
|--------|-------------|
| `--format json` | Output version information as JSON |
| `--verbose` | Show detailed version calculation |
| `--quiet` | Suppress output except errors |

## Examples

### Calculate Next Version

```bash
# Auto-detect from conventional commits
canaveral version
# Output: 1.3.0

# Specify release type
canaveral version --release-type patch   # 1.2.3 -> 1.2.4
canaveral version --release-type minor   # 1.2.3 -> 1.3.0
canaveral version --release-type major   # 1.2.3 -> 2.0.0
```

### Show Current Version

```bash
canaveral version --current
# Output: 1.2.3
```

### Monorepo Usage

```bash
# Version a specific package
canaveral version --package my-lib

# Version all packages
canaveral version
```

### JSON Output

```bash
canaveral version --format json
```

```json
{
  "current": "1.2.3",
  "next": "1.3.0",
  "bump_type": "minor",
  "strategy": "semver"
}
```

## Version Strategies

The version strategy is configured in `canaveral.yaml`:

```yaml
versioning:
  strategy: semver       # semver, calver, or build-number
  tag_format: "v{version}"
  independent: false     # Independent versioning per package (monorepo)
```

- **semver** -- Parses conventional commits. Breaking changes (`feat!:`, `BREAKING CHANGE:`) bump major. Features (`feat:`) bump minor. Fixes (`fix:`) bump patch.
- **calver** -- Calendar-based versioning (e.g., `2026.02.1`).
- **build-number** -- Simple incrementing integer.

## See Also

- [release](/canaveral/commands/) - Create a full release (version + changelog + tag + publish)
- [changelog](/canaveral/commands/) - Generate changelog from commits
