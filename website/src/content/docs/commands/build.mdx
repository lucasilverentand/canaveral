---
title: build
description: Build your app for iOS, Android, or desktop platforms.
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

# canaveral build

Build your app for iOS, Android, or desktop platforms. Canaveral auto-detects your framework and uses the appropriate build tools.

## Synopsis

```bash
canaveral build [OPTIONS]
```

## Options

| Option | Description | Default |
|--------|-------------|---------|
| `--platform <PLATFORM>` | Target platform: `ios`, `android`, `macos`, `windows`, `linux`, `web` | Auto (both mobile) |
| `--profile <PROFILE>` | Build profile: `debug`, `release`, `profile` | `release` |
| `--framework <FRAMEWORK>` | Override framework detection | Auto-detected |
| `--output-format <FORMAT>` | Output format: `text`, `json`, `github-actions`, `gitlab-ci` | `text` |
| `--output-dir <DIR>` | Output directory for artifacts | `build/` |
| `--config <KEY=VALUE>` | Additional configuration options | - |
| `--verbose` | Enable verbose output | `false` |
| `--dry-run` | Show what would be built without building | `false` |

## Examples

### Basic Builds

```bash
# Build for iOS (release)
canaveral build --platform ios

# Build for Android (release)
canaveral build --platform android

# Build both platforms
canaveral build

# Debug build
canaveral build --platform ios --profile debug
```

### With Configuration

```bash
# Specify scheme (iOS)
canaveral build --platform ios --config scheme=MyAppRelease

# Specify flavor (Android)
canaveral build --platform android --config flavor=production

# Build for simulator
canaveral build --platform ios --config destination=simulator
```

### CI/CD Output

```bash
# GitHub Actions format
canaveral build --platform ios --output-format github-actions

# GitLab CI format
canaveral build --platform android --output-format gitlab-ci

# JSON format
canaveral build --platform ios --output-format json
```

## Configuration Options

Pass additional options with `--config key=value`:

### iOS Options

| Key | Description | Example |
|-----|-------------|---------|
| `scheme` | Xcode scheme | `MyAppRelease` |
| `configuration` | Build configuration | `Release` |
| `destination` | Build destination | `simulator`, `generic/platform=iOS` |
| `export_method` | Export method | `app-store`, `ad-hoc`, `development` |
| `archive` | Create archive | `true` |

### Android Options

| Key | Description | Example |
|-----|-------------|---------|
| `flavor` | Build flavor | `production` |
| `format` | Output format | `aab`, `apk` |
| `build_type` | Gradle build type | `Release` |

### Tauri Options

| Key | Description | Example |
|-----|-------------|---------|
| `bundle` | Bundle type | `dmg`, `msi`, `appimage` |
| `updater` | Generate updater files | `true` |
| `notarize` | Notarize macOS build | `true` |

## Output

### Text Format (Default)

```
Building MyApp for iOS (release)...
  Framework: Flutter
  Scheme: Runner
  Configuration: Release

[1/3] Installing dependencies...
[2/3] Building iOS app...
[3/3] Creating IPA...

Build complete!
  Artifact: build/ios/MyApp.ipa
  Size: 45.2 MB
  Duration: 2m 34s
```

### JSON Format

```json
{
  "success": true,
  "platform": "ios",
  "profile": "release",
  "framework": "flutter",
  "artifacts": [
    {
      "path": "build/ios/MyApp.ipa",
      "type": "ipa",
      "size": 47420416
    }
  ],
  "duration_ms": 154000
}
```

### GitHub Actions Format

Sets the following outputs and environment variables:

```yaml
# Environment variables
CANAVERAL_ARTIFACT_PATH=build/ios/MyApp.ipa
CANAVERAL_BUILD_SUCCESS=true

# Step outputs
steps.build.outputs.artifact_path=build/ios/MyApp.ipa
steps.build.outputs.success=true
```

## Exit Codes

| Code | Description |
|------|-------------|
| 0 | Build succeeded |
| 1 | Build failed |
| 2 | Configuration error |
| 3 | Missing dependencies |

## See Also

- [test](/canaveral/commands/test/) - Run tests
- [version](/canaveral/commands/version/) - Manage version numbers
- [upload](/canaveral/commands/upload/) - Upload to stores
